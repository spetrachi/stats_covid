ApiService.getAndamentoNazionale().then(function(e){const t=e[0],n=document.getElementById("totale-casi"),i=document.getElementById("totale-positivi"),o=document.getElementById("dimessi-guariti"),a=document.getElementById("deceduti");getStatsDate(t),n.innerHTML=`TOTALE CASI: ${t.totale_casi}`,i.innerHTML=`TOTALE POSITIVI: ${t.totale_positivi}`,o.innerHTML=`DIMESSI GUARITI: ${t.dimessi_guariti}`,a.innerHTML=`DECEDUTI: ${t.deceduti}`,getTamponi(t)});const getStatsDate=e=>{document.title+=" "+convertDate(e.data);const t=document.getElementById("date"),n=document.createElement("h3");n.innerHTML=`<small class="text-muted font-weight-light">Aggiornato al ${convertDate(e.data)}</small>`,t.append(n)},getTamponi=e=>{const t=document.getElementById("totale-tamponi"),n=document.getElementById("tamponi-molec"),i=document.getElementById("tamponi-rapido"),o=document.getElementById("totale-pos-molec"),a=document.getElementById("totale-pos-rapido");t.innerHTML=`TOTALE TAMPONI: ${e.tamponi}`,n.innerHTML=`TOTALE TAMPONI MOLECOLARI: ${e.tamponi_test_molecolare}`,i.innerHTML=`TOTALE TAMPONI RAPIDI: ${e.tamponi_test_antigenico_rapido}`,o.innerHTML=`TOTALE POSITIVI TAMPONE MOLECOLARE: ${e.totale_positivi_test_molecolare}`,a.innerHTML=`TOTALE POSITIVI TAMPONE RAPIDO: ${e.totale_positivi_test_antigenico_rapido}`};ApiService.getAndamentoRegioni().then(function(e){const t=document.getElementById("sel-regioni");e.forEach(e=>{const n=document.createElement("option");n.value=e.codice_regione,n.innerHTML=e.denominazione_regione,t.append(n)}),getRegionDetails(t,e)});const getRegionDetails=(e,t)=>{e.addEventListener("change",e=>{const n=document.getElementById("sel-regioni").value,i=document.getElementById("reg-details");i.innerHTML="";for(let e of t)e.hasOwnProperty("codice_regione")&&e.codice_regione==n&&(i.innerHTML=displayRegionInfo(e))})};function displayRegionInfo(e){return`\n        <div class="text-justify mt-2 region-details">\n            <h4>${e.denominazione_regione}</h4>\n            \n            <div>\n                <b>Totale Casi</b>: ${e.totale_casi};\n            </div>\n            <div>\n                <b>Totale Positivi</b>: ${e.totale_positivi};\n            </div>\n            <div>\n                <b>Dimessi Guariti</b>: ${e.dimessi_guariti};\n            </div>\n            <div>\n                <b>Deceduti</b>: ${e.deceduti};\n            </div>\n            <div>\n                <b>Tamponi</b>: ${e.tamponi};\n            </div>\n        </div>\n    `}